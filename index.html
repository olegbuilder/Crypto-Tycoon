<script>
    let balance = 0;
    let upgradeLevel = 0;
    let upgradePrice = 30;
    const upgradeIncrement = 5;
    let clickCount = 0;

    // Основная функция майнинга
    function mine() {
        clickCount++;
        updateBoostBar();

        const result = Math.random() < 0.5 ? "up" : "down";
        const arrow = document.getElementById("arrow");

        if (result === "up") {
            balance += 10;
            arrow.textContent = "⬆️";
            arrow.className = "up";
        } else {
            balance -= 5;
            arrow.textContent = "⬇️";
            arrow.className = "down";
        }

        updateDisplay();
    }

    // Покупка улучшения
    function buyUpgrade() {
        if (balance >= upgradePrice) {
            balance -= upgradePrice;
            upgradeLevel++;
            upgradePrice += upgradeIncrement;
            updateDisplay();
        } else {
            alert("Not enough BTC!");
        }
    }

    // Сохранение данных
    function saveGame() {
        const gameData = {
            balance: balance,
            upgradeLevel: upgradeLevel,
            upgradePrice: upgradePrice,
            clickCount: clickCount,
        };
        localStorage.setItem("cryptoTycoonSave", JSON.stringify(gameData));
        console.log("Game saved!");
    }

    // Загрузка данных
    function loadGame() {
        const savedData = localStorage.getItem("cryptoTycoonSave");
        if (savedData) {
            const gameData = JSON.parse(savedData);
            balance = gameData.balance || 0;
            upgradeLevel = gameData.upgradeLevel || 0;
            upgradePrice = gameData.upgradePrice || 30;
            clickCount = gameData.clickCount || 0;
            console.log("Game loaded!");
        } else {
            console.log("No save data found. Starting a new game.");
        }
        updateDisplay();
    }

    // Сброс прогресса
    function resetGame() {
        localStorage.removeItem("cryptoTycoonSave");
        balance = 0;
        upgradeLevel = 0;
        upgradePrice = 30;
        clickCount = 0;
        updateDisplay();
        alert("Game reset!");
    }

    // Автосейв каждые 10 секунд
    setInterval(saveGame, 10000);

    // Обновление отображения
    function updateDisplay() {
        document.getElementById("score").textContent = `Your Balance: ${balance} BTC`;
        document.getElementById("upgrade-level").textContent = `Upgrade Level: ${upgradeLevel}`;
        document.getElementById("upgrade-price").textContent = `Next Upgrade Price: ${upgradePrice} BTC`;
    }

    // Загрузка данных при запуске игры
    loadGame();
            </script>
